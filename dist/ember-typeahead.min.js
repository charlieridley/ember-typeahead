/*! ember-typeahead 06-04-2018 */
!function(a,b){"use strict";Ember.TypeAheadComponent=Ember.TextField.extend({didInsertElement:function(){this._super();var a=this;if(!(this.get("local")||this.get("prefetch")||this.get("remote")||this.get("source")))throw"No data source set";this.get("minLength")===b&&this.set("minLength",1),this.get("hint")===b&&this.set("hint",!0),this.get("highlight")===b&&this.set("highlight",!0),this.get("local")&&jQuery.isFunction(this.get("local").then)?this.get("local").then(function(b){a.local=b,a.initializeTypeahead()}):this.initializeTypeahead(),this.get("typeaheadClassNames")&&this.$().parent().addClass(this.get("typeaheadClassNames")),this.get("inputClassNames")&&this.$().addClass(this.get("inputClassNames")),this.get("hintClassNames")&&this.$().parent().find(".tt-hint").addClass(this.get("hintClassNames")),this.get("placeholder")&&this.$().attr("placeholder",this.get("placeholder")),this.get("maxLength")&&this.$().attr("maxlength",this.get("maxLength"))},clearInput:function(a){this.get("clearInputAfterEvent")&&(0===this.get("minLength")&&this.$(a).blur(),Ember.run.next(this,function(){this.$(a).val("")}))},initializeTypeahead:function(){var a=this,b=null;if(this.get("source"))b=this.get("source");else{var c=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,local:this.get("local")||null,prefetch:this.get("prefetch")||null,remote:this.get("remote")||null});c.initialize(),b=c.ttAdapter()}if(this.typeahead=this.$().typeahead({hint:this.get("hint"),highlight:this.get("highlight"),minLength:this.get("minLength")},{name:this.get("name")||"typeahead",displayKey:this.get("displayKey")||"value",source:b,templates:this.get("templates")||{}}),this.typeahead.on("typeahead:selected",function(b,c){a.set("selection",Ember.Object.create(c)),a.set("cursor",Ember.Object.create(c)),a.clearInput(b.target)}),this.typeahead.on("typeahead:autocompleted",function(b,c){a.set("selection",Ember.Object.create(c)),a.set("cursor",Ember.Object.create(c)),a.clearInput(b.target)}),this.typeahead.on("typeahead:cursorchanged",function(b,c){a.set("cursor",Ember.Object.create(c))}),this.typeahead.on("focus",function(){0===a.get("minLength")&&""===a.$(this).val()&&a.$(this).data().ttTypeahead.input.trigger("queryChanged","")}),this.get("value"))this.typeahead.typeahead("val",this.get("value"));else if(this.get("selection")){var d=this.get("displayKey");this.typeahead.typeahead("val",this.get("selection."+d))}},valueObserver:function(){var a=this.get("displayKey");this.typeahead.typeahead("val")!=this.get("value")&&this.get("cursor."+a)!=this.get("value")&&this.typeahead.typeahead("val",this.get("value"))}.observes("value")}),Ember.Handlebars.helper("type-ahead",Ember.TypeAheadComponent)}(this);